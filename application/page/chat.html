<div ng-controller="chatCtl" >
    <!-- Warning dialog -->
    <div class="well well-lg" >Xin ch√†o
        <strong>{{user}}</strong>
        <span class="chat-img pull-left">
            <img src="https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg" alt="User Avatar"
                class="img-circle">
        </span>
    </div>
    <div class="chat_container">
        <!--chat_sidebar-->
        <div class="col-sm-3 chat_sidebar" ng-init="loadConversation()">
            <div class="row">
                <div id="custom-search-input">
                    <div class="input-group col-md-12">
                        <input type="text" class="  search-query form-control" placeholder="Conversation" />
                        <button class="btn btn-danger" type="button" ng-click="search()">
                            <span class=" glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
                <div class="dropdown all_conversation">
                    <button class="dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-weixin" aria-hidden="true"></i>
                        {{select}}
                        <span class="caret pull-right"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <li>
                            <a href="" ng-click="loadConversation()"> All Conversation </a>
                            <!-- <ul class="sub_menu_ list-unstyled">
                                <li>
                                    <a href="#"> All Conversation </a>
                                </li>
                            </ul> -->
                        </li>
                        <li>
                            <a href="" ng-click="loadAllContact()">All Contact</a>
                        </li>
                    </ul>
                </div>
                <div class="member_list" ng-show="contactTab">
                    <ul class="list-unstyled">
                        <li class="left clearfix" ng-repeat="x in contact">
                            <span class="chat-img pull-left">
                                <img src="https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg" alt="User Avatar"
                                    class="img-circle">
                            </span>
                            <div class="chat-body clearfix">
                                <div class="header_sec">
                                    <strong class="primary-font">{{x.name}}</strong>
                                    <strong class="pull-right">
                                        {{x.time}}</strong>
                                </div>
                                <div class="contact_sec">
                                    <strong class="primary-font"></strong>
                                    <h3><span class="badge pull-right" ng-click="connect(x.id)">+</span></h3>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="member_list" ng-show="conversationTab">
                    <ul class="list-unstyled">
                        <li class="left clearfix" ng-repeat="y in conversations" >
                            <span class="chat-img pull-left">
                                <img src="https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg" alt="User Avatar"
                                    class="img-circle">
                            </span>
                            <div class="chat-body clearfix" ng-click="loadChatHistory(y.id,y.name)">
                                <div class="header_sec">
                                    <strong class="primary-font">{{y.name}}</strong>
                                    <strong class="pull-right">
                                        {{y.lastTimeAction}}</strong>
                                </div>
                                <div class="contact_sec">
                                    <strong class="primary-font">{{y.lastChat}}</strong>
                                    <h3><span class="badge pull-right" >{{y.numUnread}}</span></h3>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!--end chat_sidebar-->

        <!--message_section-->
        <div class="col-sm-9 message_section">
            <div class="row" ng-show="isChatting">
                <div class="new_message_head">
                    <div class="pull-left">
                        <h3>{{conversationName}}</h3> 
                        <button>
                            <i class="fa fa-plus-square-o" aria-hidden="true"></i> New Message</button>   
                    </div>
                    <div class="pull-right">
                        <div class="dropdown">
                            <button class="dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-cogs" aria-hidden="true"></i> Setting
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
                                <li>
                                    <a>Action</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--new_message_head-->

                <div id="chat_area" class="chat_area">
                    <ul class="list-unstyled">
                        <li class="left clearfix {{x.isMe ? 'admin_chat' :'' }} " ng-repeat="x in messages" > 
                            <span class="chat-img1 {{x.isMe ? 'pull-right' :'pull-left' }}">
                                <img src="https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg" alt="User Avatar"
                                    class="img-circle">
                            </span>
                            <div class="chat-body1 clearfix">
                                <p>{{x.value}}</p>
                                <div class="chat_time {{!x.isMe ? 'pull-right' :'pull-left' }}">{{x.time}}</div>
                            </div>
                            {{x.$index}}
                        </li>
                        <!-- <li class="left clearfix admin_chat">
                            <span class="chat-img1 {{!x.isMe ? 'pull-right' :'pull-left' }}">
                                <img src="https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg" alt="User Avatar"
                                    class="img-circle">
                            </span>
                            <div class="chat-body1 clearfix">
                                <p></p>
                                <div class="chat_time pull-left">09:40PM</div>
                            </div>
                        </li> -->
                    </ul>
                </div>
                <!--chat_area-->
                <div class="message_write">
                    <textarea class="form-control" ng-model="message" placeholder="type a message"></textarea>
                    <div class="clearfix"></div>
                    <div class="chat_bottom">
                        <!-- <a href="#" class="pull-left upload_btn">
                            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                            Add Files</a> -->
                        <button ng-click="send()" class="pull-right btn btn-success">
                            Send</button>
                    </div>
                </div>
            </div>
        </div>
        <!--end message_section-->
    </div>
    <!-- footer -->
    <div></div>
</div>